import './TopBarNav.css'
import vidaLogo from '../../assets/vidaLogo.png';
import {NavLink, useNavigate} from "react-router-dom";
import {useSelector, useDispatch} from "react-redux";
import {thunkLogout} from "../../redux/session.js";

const TopBarNav = () => {
    const navigate = useNavigate();
    const currentUser = useSelector(state => state.session.user);
    const dispatch = useDispatch()

    const handleLogout = () => {
        dispatch(thunkLogout())
    }

    const check = () => {

    }

    return (
        <>
            <div id="top-bar-nav">
                <img id='vida-logo-nav' src={vidaLogo} alt="vidaLogo" onClick={() => navigate("/")}/>
                <div id="section-1">
                    <NavLink to='/menu'>Menu</NavLink>
                    <NavLink to='/'>Merch</NavLink>
                    <NavLink to='/'>About Us</NavLink>
                </div>
                <div id="section-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path
                            d="M8.51226 5.43568C8.6003 5.6412 8.61899 5.86982 8.56549 6.08691C8.512 6.304 8.38923 6.49775 8.21577 6.63883L5.61182 8.77012C7.18888 12.115 9.88072 14.8068 13.2256 16.3839L15.3569 13.7799C15.4982 13.6068 15.692 13.4843 15.9089 13.4308C16.1259 13.3774 16.3544 13.3958 16.56 13.4834M8.51226 5.43568L6.44972 0.623098M8.51226 5.43568L8.05268 5.63264C8.09791 5.73825 8.10751 5.85572 8.08002 5.96727C8.05252 6.07885 7.98943 6.17842 7.90028 6.25093L7.89908 6.25191L5.29513 8.38319L4.99314 8.63037L5.15956 8.98335C6.78614 12.4332 9.56249 15.2096 13.0123 16.8361L13.3653 17.0026L13.6125 16.7006L15.7438 14.0966L15.7442 14.0962C15.817 14.007 15.9168 13.9439 16.0286 13.9163C16.1401 13.8888 16.2576 13.8982 16.3633 13.9431L16.3631 13.943L16.56 13.4834M8.51226 5.43568L8.05266 5.63258L5.99142 0.822996L6.44972 0.623098M6.44972 0.623098C6.35309 0.401551 6.18218 0.220665 5.96647 0.111631C5.75075 0.00259757 5.50375 -0.0277499 5.26806 0.0258218M6.44972 0.623098L5.99015 0.820058L5.99089 0.821791C5.94071 0.707498 5.85234 0.614189 5.74091 0.557867C5.62929 0.501449 5.50152 0.485673 5.37954 0.513236L5.38049 0.513017L5.26806 0.0258218M5.26806 0.0258218L0.799233 1.05709M5.26806 0.0258218L5.37888 0.513386L0.911733 1.54427L0.799233 1.05709M0.799233 1.05709C0.571997 1.10956 0.369256 1.23751 0.224101 1.42005C0.0789458 1.60258 -5.23459e-05 1.82893 0 2.06215C0 13.0838 8.93336 22 19.9378 22C20.1711 22.0001 20.3976 21.9212 20.5802 21.776C20.7628 21.6309 20.8908 21.4281 20.9433 21.2008M0.799233 1.05709L0.911662 1.54429C0.794628 1.57133 0.690211 1.63723 0.615448 1.73125C0.54067 1.82529 0.499973 1.94189 0.5 2.06203L0.5 2.06215C0.5 12.8074 9.20922 21.5 19.9378 21.5H19.9382C20.0583 21.5001 20.175 21.4594 20.2691 21.3846C20.3631 21.3099 20.4291 21.2054 20.4561 21.0883L20.9433 21.2008M20.9433 21.2008L21.9746 16.7319M20.9433 21.2008L20.4562 21.0883L21.4868 16.6223L21.9746 16.7319M21.9746 16.7319C22.0278 16.4951 21.9968 16.2471 21.887 16.0307C21.7771 15.8142 21.5952 15.6428 21.3726 15.546L16.56 13.4834M21.9746 16.7319L21.4874 16.6195L21.487 16.6212C21.5144 16.4981 21.4982 16.3694 21.4411 16.257C21.384 16.1445 21.2897 16.0554 21.1742 16.0049L21.1756 16.0056L21.3726 15.546L21.1732 16.0045L16.364 13.9434L16.56 13.4834"
                            stroke="white"/>
                    </svg>
                    <p>111-111-1111</p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path
                            d="M19.1003 0.151187L1.23465 8.39679C-0.826572 9.35885 -0.139499 12.3821 2.05922 12.3821H9.61788V19.9406C9.61788 22.1393 12.6412 22.8268 13.6032 20.7652L21.849 2.89986C22.536 1.25031 20.7494 -0.536304 19.1003 0.151187Z"
                            fill="white"/>
                    </svg>
                    <p>Get Directions</p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path
                            d="M11 0C4.92339 0 0 4.92339 0 11C0 17.0766 4.92339 22 11 22C17.0766 22 22 17.0766 22 11C22 4.92339 17.0766 0 11 0ZM13.5327 15.5286L9.62056 12.6855C9.48306 12.5835 9.40323 12.4238 9.40323 12.2552V4.79032C9.40323 4.49758 9.64274 4.25806 9.93548 4.25806H12.0645C12.3573 4.25806 12.5968 4.49758 12.5968 4.79032V10.898L15.4133 12.9472C15.6528 13.1202 15.7016 13.4528 15.5286 13.6923L14.2778 15.4133C14.1048 15.6484 13.7722 15.7016 13.5327 15.5286Z"
                            fill="white"/>
                    </svg>
                    <p>Business Hours</p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 25 22" fill="none">
                        <path
                            d="M22.9219 12.9473L24.9737 4.0098C25.1218 3.3645 24.6263 2.75 23.9579 2.75H6.91007L6.51224 0.82457C6.41311 0.344652 5.98655 0 5.49171 0H1.04167C0.466363 0 0 0.461699 0 1.03125V1.71875C0 2.2883 0.466363 2.75 1.04167 2.75H4.07478L7.12374 17.507C6.39431 17.9223 5.90278 18.7009 5.90278 19.5938C5.90278 20.9227 6.99097 22 8.33333 22C9.67569 22 10.7639 20.9227 10.7639 19.5938C10.7639 18.9203 10.4841 18.3118 10.0337 17.875H19.1329C18.6826 18.3118 18.4028 18.9203 18.4028 19.5938C18.4028 20.9227 19.491 22 20.8333 22C22.1757 22 23.2639 20.9227 23.2639 19.5938C23.2639 18.641 22.7045 17.8178 21.8933 17.4279L22.1327 16.3848C22.2809 15.7395 21.7854 15.125 21.117 15.125H9.46688L9.18281 13.75H21.9061C22.3925 13.75 22.8141 13.4168 22.9219 12.9473Z"
                            fill="white"/>
                    </svg>
                    <p>Cart</p>
                </div>
                <div id='section-3'>
                    {currentUser ? (
                        <>
                            <button onClick={handleLogout}>Log Out</button>
                            {currentUser.role === 'admin' &&
                                <button onClick={() => navigate('/menu/new')}>Add Product</button>}
                        </>
                    ) : (
                        <>
                            <button id='login-button' onClick={() => navigate('/login')}>Login</button>
                            <button id='join-button' onClick={() => navigate('/signup')}>Join Now</button>
                        </>
                    )}
                </div>
            </div>
            <hr id='test'/>

        </>
    );
}

export default TopBarNav;